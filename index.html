<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Array</title>
</head>

<body>
    <script>
        "use strict";
        // Some data we can work with
        const inventors = [{
                first: 'Albert',
                last: 'Einstein',
                year: 1879,
                passed: 1955
            },
            {
                first: 'Isaac',
                last: 'Newton',
                year: 1643,
                passed: 1727
            },
            {
                first: 'Galileo',
                last: 'Galilei',
                year: 1564,
                passed: 1642
            },
            {
                first: 'Marie',
                last: 'Curie',
                year: 1867,
                passed: 1934
            },
            {
                first: 'Johannes',
                last: 'Kepler',
                year: 1571,
                passed: 1630
            },
            {
                first: 'Nicolaus',
                last: 'Copernicus',
                year: 1473,
                passed: 1543
            },
            {
                first: 'Max',
                last: 'Planck',
                year: 1858,
                passed: 1947
            },
        ];

        const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilarire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Benningtion, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berer, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Bindo, Frank', 'Birrell, Augustine', 'Black Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];
        let str = 'hello';
        let str2 = 'hanah';


        // Array.prototype.filter()
        // 1. Filter the list of inventors on those who were born in the 1500's
        // #1
        const fifteen = inventors.filter(function(inventor) {
            if (inventor.year >= 1500 && inventor.year < 1600)
                return true;
        });
        // #2
        const fifteen2 = inventors.filter(inventor => inventor.year >= 1500 && inventor.year < 1600);


        //Array.prototype.map()
        //2.Give us an array of the inventory first and last names
        const fullNames = inventors.map(inventor => `${inventor.first} ${inventor.last}`);


        //Array.prototype.sort()
        //3.Sort the inventors by brithdate, oldest to youngest

        // #1
        const ordered = inventors.sort(function(a, b) {
            if (a.year > b.year) {
                return 1;
            } else {
                return -1;
            }
        });

        // #2
        const ordered2 = inventors.sort((a, b) => a.year > b.year ? 1 : -1);


        //Array.prototype.reduce()
        //4.How many years did all the inventors live?

        const totalYears = inventors.reduce((total, inventor) => {
            return total + (inventor.passed - inventor.year);
        }, 0);


        //5.Sort the inventors by years lived
        const sortLived = inventors.sort(function(a, b) {
            const first = a.passed - a.year;
            const second = b.passed - b.year;
            return first > second ? 1 : -1
        });


        //6.sort exercise
        // Sort the people alphabetically by last name
        const sortByLastName = people.sort((a, b) => {
            let lastA = a.split(', ');
            lastA = lastA[1];
            let lastB = b.split(', ');
            lastB = lastB[1];

            return lastA > lastB ? 1 : -1;
        });


        //7. Reverse a string 
        // Return a string in reverse
        // ex. reverseString('hello') === 'olleh'
        function reverseString(str) {
            return str.split('').reduce((total, next) => {
                return next + total;
            }, '');

            // or
            // return str.split('').reverse().join('');
        }


        //8.VALIDATE A PALINDROME
        // Return true if palindrome and false if not 
        // ex.isPalindrome('racecar') === 'true', isPalindrome
        function isPalindrome(text) {
            return text.split('').reduce((total, next) => {
                return next + total;
            }, '') === text;
        }


        //9. REVERSE AN INTEGER
        // Return an integer in reverse
        // ex. reverseInt(521) === 125
        function reverseInt(int) {
            return parseInt(int.toString().split('').reverse().join('')) * Math.sign(int);
        }


        //10. CAPITALIZE LETTERS
        // Return a string with the first letter of every word capitalized
        // ex capitalizeLetters('i love javascript') === 'I Love Javascript'
        function capitalizeLetters(text) {
            return text.toLowerCase().split(' ')
                .map(txt => txt.charAt(0).toUpperCase() + txt.slice(1)).join(' ');
        }


        //11. MAX CHARACTER
        // Return the character that is most common in a string
        // ex. maxCharacter('javascript') == 'a'
        function maxCharacter(txt) {
            let amount,
                val;

            const object = txt.split('').reduce((total, item) => {
                total[item] ? total[item]++ : total[item] = 1;
                return total;
            }, {});

            for (var key in object) {
                if (amount) {
                    if (object[key] > amount) {
                        amount = object[key];
                        val = key;
                    }
                } else {
                    amount = object[key];
                    val = key;
                }
            }
            return val;
        }


        //12. FIZZBUZZ
        // Write a program that prints all the numbers from 1 to 100. For multiples of 3, instead of the number, print "Fizz", for multiples of 5 print "Buzz". For numbers which are multiples of both 3 and 5, print "FizzBuzz".
        function fizzBuzz() {
            for (let i = 1; i <= 100; i++) {
                if ((i % 3 === 0) && (i % 5 === 0)) {
                    console.log('FizzBuzz');
                } else if (i % 5 === 0) {
                    console.log('Buzz');
                } else if (i % 3 === 0) {
                    console.log('Fizz');
                } else {
                    console.log(i);
                }
            }
        }


        //13. LONGEST WORD
        // Return the longest word of a string
        // If more than one longest word, put into an array
        // ex. longestWord('Hello, my name is Brad') === 'hello'
        // ex. longestWord('Hello there, my name is Brad') === ['hello', 'there']
        function longestWord(txt) {
            const arr = txt.match(/[A-z0-9]+/g);
            let asd = [];

            let some = arr.reduce((prev, next) => {
                if (next.length > prev.length) {
                    asd = [next];
                } else {
                    if (next.length === prev.length) asd.push(next);
                }
                return asd[0];
            }, '');

            return asd;
        }


        //14. ARRAY CHUNKING
        // Split an array into chunked arrays of a specific lenght
        // ex. chunkArray([1, 2, 3, 4, 5, 6, 7], 3) === [[1, 2, 3,],[4, 5, 6],[7]]
        function chunkArray(array, amount) {
            let mainArray = [],
                some = [];
            for (let i = 0; i < array.length; i++) {
                if (some.length < amount) {
                    some.push(array[i]);
                } else {
                    mainArray.push(some);
                    some = [];
                    some.push(array[i]);
                }
                if (i === array.length - 1) mainArray.push(some);
            }
            return mainArray;
        }


        //15. FLATTEN ARRAY
        // Take an array of arrays and flatten to a single array
        // ex. [[1, 2], [3, 4], [5, 6], [7]] = [1, 2, 3, 4, 5, 6, 7]
        function flattenArray(arrays) {
            return arrays.reduce((a, b) => a.concat(b));
        }


        //16. ANAGRAM
        // Return true if anagram and false if not
        // ex. 'elbow' === 'below'
        // ex. 'Dormitory' === 'dirty room##'
        function isAnagram(str1, str2) {
            const s1 = str1.toLowerCase().replace(/[^\w]/g, '').toString().split(''),
                  s2 = str2.toLowerCase().replace(/[^\w]/g, '').toString().split('');

            s1.forEach((value) => {
                if (!s1.includes(value)) return false
            });

            return true;
        }

        console.log(isAnagram('Dormitory', 'dirty room##'));

    </script>

</body>

</html>
